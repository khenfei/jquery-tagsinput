!function(t){"use strict";function e(){}t.fn.tagsInput=function(n){const i=t.extend({tagClass:"badge badge-primary",tagsContainerClass:"form-control",highlightColor:"#ffc107"},n),a=new e,o=function(t){return a.fillIn('<div class="tag {tagClass}"><span>{value}</span>{tagRemoveIcon}</div>',{tagClass:a.sanitizeText(i.tagClass),tagRemoveIcon:t?"":'<i class="tag-remove">&#10006;</i>'})};this.each(function(){if(this.hasAttribute("data-rendered"))return;const e=this.hasAttribute("disabled"),n=o(e),r=function(t){return a.fillIn('<div class="tags-container {tagsContainerClass} {state}"><input type="text" size="1" {state}><div>',{tagsContainerClass:a.sanitizeText(i.tagsContainerClass),state:t?"disabled":""})}(e),s=t(this),c=[],l=s.val();l&&t.each(l.split(";"),function(t,e){const i=e.trim();i.length>0&&c.unshift(jQuery(n.replace("{value}",i)))});const u=t(r);t.each(c,function(t,e){u.prepend(e)}),s.after(u),s.attr("hidden","true"),s.attr("data-rendered","true")}),t("i.tag-remove").click(a.removeTag),t(".tags-container").not("disabled").click(function(e){t(this).children("input").focus()}),t(".tags-container").not("disabled").children("input").bind("input",function(t){a.resetSize(this)});const r=o(!1);t(".tags-container").not("disabled").children("input").keydown(function(e){if("Enter"===e.key||";"===e.key){e.preventDefault();const n=t(e.currentTarget);let o=n.val().trim();if(o){o=a.sanitizeText(o);const e=n.siblings("div").filter(function(){return t(this).find("span").text()===o});if(e.length>0)i.hasOwnProperty("tagColor")||(i.tagColor=e.css("background-color")),a.blink(e,i.highlightColor,i.tagColor);else{const e=t(r.replace("{value}",o));e.insertBefore(n),e.children("i").click(a.removeTag);const i=t(this).parent().prev();let s=i.val();s.length>0&&";"!=s.charAt(s.length-1)&&(s+=";"),n.val(""),a.resetSize(n),i.val(s.concat(o).concat(";"))}}return!1}})},e.prototype.resetSize=function(e){const n=t(e),i=n.val().length;n.attr("size",i<1?1:i)},e.prototype.removeTag=function(e){const n=t(this),i=n.parent(),a=i.parent().prev(),o=n.siblings("span").text(),r=`(^${o};)|(;${o};)`,s=a.val().replace(new RegExp(r,"u"),";");a.val(s),i.remove()},e.prototype.sanitizeText=function(e){return t("<div>").text(e).html()},e.prototype.blink=function(e,n,i){const a=t(e);a.stop().animate({backgroundColor:n},200).promise().done(function(){a.animate({backgroundColor:i},200)})},e.prototype.fillIn=function(t,e){return t.replace(new RegExp("{([^{]+)}","g"),function(t,n){return void 0===e[n]?"{".concat(n).concat("}"):e[n]})}}(jQuery);