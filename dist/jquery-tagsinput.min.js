!function(t){"use strict";function e(){}t.fn.tagsInput=function(n){let a=t.extend({tagClass:"tag badge badge-primary ml-1",tagsContainerClass:"form-control",tagTemplate:'<div class="{tagClass}"><span>{value}</span><i class="tag-remove">&#10006;</i></div>',tagsContainerTemplate:'<div class="tags-container {tagsContainerClass}"><input type="text" size="1"><div>',highlightColor:"#ffc107"},n);const i=new e,r=a.tagTemplate.replace("{tagClass}",i.sanitizeText(a.tagClass)),o=a.tagsContainerTemplate.replace("{tagsContainerClass}",i.sanitizeText(a.tagsContainerClass));this.each(function(){if(this.hasAttribute("data-rendered"))return;let e=t(this),n=[],a=e.val();a&&t.each(a.split(";"),function(t,e){let a=e.trim();a.length>0&&n.unshift(jQuery(r.replace("{value}",a)))});let i=t(o);t.each(n,function(t,e){i.prepend(e)}),e.after(i),e.attr("hidden","true"),e.attr("data-rendered","true")}),t("i.tag-remove").click(i.removeTag),t(".tags-container").click(function(e){t(this).children("input").focus()}),t(".tags-container > input").bind("input",function(t){i.resetSize(this)}),t(".tags-container > input").keydown(function(e){if("Enter"===e.key||";"===e.key){e.preventDefault();let n=t(e.currentTarget),o=n.val().trim();if(o){o=i.sanitizeText(o);let e=n.siblings("div").filter(function(){return t(this).find("span").text()===o});if(e.length>0)a.hasOwnProperty("tagColor")||(a.tagColor=e.css("background-color")),i.blink(e,a.highlightColor,a.tagColor);else{let e=t(r.replace("{value}",o));e.insertBefore(n),e.children("i").click(i.removeTag);let a=t(this).parent().prev(),l=a.val();l.length>0&&";"!=l.charAt(l.length-1)&&(l+=";"),n.val(""),i.resetSize(n),a.val(l.concat(o).concat(";"))}}return!1}})},e.prototype.resetSize=function(e){let n=t(e),a=n.val().length;n.attr("size",a<1?1:a)},e.prototype.removeTag=function(e){let n=t(this).parent(),a=n.parent().prev(),i=n.text(),r=a.val(),o="(^".concat(i).concat(";)|(;").concat(i).concat(";)"),l=r.replace(new RegExp(o,"u"),";");a.val(l),n.remove()},e.prototype.sanitizeText=function(e){return t("<div>").text(e).html()},e.prototype.blink=function(e,n,a){let i=t(e);i.stop().animate({backgroundColor:n},200).promise().done(function(){i.animate({backgroundColor:a},200)})}}(jQuery);